{% extends "base.html" %}
{% load static %}
{% block page_header %}
{% endblock %}

{% block content %}
    <!--Delivery info-->
    <div class="container-fluid delivery-info">
        <div class="row">
            <div class="col-12 text-center">
            <p class="uppercase mb-0">FREE DELIVERY FROM <strong>â‚¬ ${{ free_delivery_threshold }}!</strong></p>
            </div>
        </div>
    </div>
    <!--Breadcrumbs-->    
    <div class="container-fluid breadcrumbs-container pl-3">
        <div class="row">
            <div class="col-12 pt-3">
                <a href="{% url 'landing' %}" class="breadcrumbs-text pl-3">Home</a> >
                <a href="{% url 'products' %}" class="breadcrumbs-text">Products</a> >
                <a href="{% url 'products' %}?category={{ product.category.name }}" class="breadcrumbs-text">{{ product.category.friendly_name }}</a> >
                <a href="{% url 'product_details' product.id %}" class="breadcrumbs-text">{{ product.name }}</a>
            </div>
        </div>
    </div>
    <hr>
    <!--Main content-->
    <div class="container mt-4">
        <div class="row">
            <div class="col-12 text-center">
                <h1 class="uppercase main-heading products-heading">{{ product.name }}</h1>
                <i class="fab fa-pagelines icon-green icon-large"></i>
            </div>
        </div>
        <div class="row mb-4 mt-4">
            <div class="col-sm-12 col-md-6 col-lg-4">
                <a href="{{ product.image_gallery.image_url }}" target="_blank" rel="noopener">
                    <img class="card-img-top img-fluid rounded-lg" src="{{ product.image_gallery.image }}" alt="{{ product.name }}">
                </a>
            </div>
            <div class="col-sm-12 col-md-6 col-lg-8">
                <p><i class="fas fa-tag mr-2"></i><a href="{% url 'products' %}?category={{ product.category.name }}"  class="text-dark">{{ product.category.friendly_name }}</a></p>
                <p>{{ product.description }}</p>
                <p><i class="fas fa-star mr-2"></i><span class="text-dark">{{ product.rating }} / 5 </span></p>
                <form class="form" action="{% url 'add_to_cart' product.id %}" method="POST">
                {% csrf_token %}
                <!--Weight-->
                 {% if product.has_weight %}
                    <div>
                        <h6 class="font-weight-bold">Select weight:</h6>
                        <div class="form-check form-check-inline">
                            <input class="form-check-input" type="radio" name="inlineRadioOptions" id="weight50" value="weight50" checked>
                            <label class="form-check-label" for="weight50">50 g</label>
                        </div>
                        <div class="form-check form-check-inline">
                            <input class="form-check-input" type="radio" name="inlineRadioOptions" id="weight100" value="weight100">
                            <label class="form-check-label" for="weight100">100 g</label>
                        </div>
                        <div class="form-check form-check-inline">
                            <input class="form-check-input" type="radio" name="inlineRadioOptions" id="weight200" value="weight200">
                            <label class="form-check-label" for="weight200">200g</label>
                        </div>
                    </div>
                    {% endif %}
                    <!--Quantity-->
                    <h6 class="font-weight-bold mt-4">Quantity:</h6>
                    <div class="row d-flex justify-content-between">
                        <div class="col-6">
                            <div class="input-group">
                                <input name="quantity" type="number" min="1" max="999" class="form-control " placeholder="Quantity" required>
                            </div>
                        </div>
                        <div class="col-6">
                           <p class="text-center font-weight-bold"><span class="border p-3 rounded-pill border-success"><i class="fas fa-euro-sign mr-2"></i>{{ product.price }}</span></p>
                        </div>
                    </div>
                    <!--buttons-->
                    <div class="mt-4 mb-4">
                    <a href="{% url 'products' %}" class="btn button-black-outline px-3 mr-3"><i class="fas fa-angle-left"></i> Go back</a>
                    <input type="submit" class="btn button-green px-3" value="Add to Cart">
                    </div>
                    <input type="hidden" name="redirect_url" value="{{ request.path }}">
                </form>
            </div>
        </div>
    </div>
{% endblock %}